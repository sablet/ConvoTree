# Ticket #001: 共通型定義ファイル作成

## 概要
TypeScript interface定義が複数ファイルで重複している問題を解決するため、共通型定義ファイルを作成する。

## 背景
jscpdによるコピペ検出で以下の重複が検出された：
- `Message` interface: `components/branch-structure.tsx:19-31` ↔ `components/recent-lines-footer.tsx:5-17`
- `Line` interface: `components/branch-structure.tsx:33-43` ↔ `components/recent-lines-footer.tsx:19-29`
- `Tag` interface等も複数箇所で定義

## 目標
- TypeScript型定義の重複を完全に排除
- 型安全性を保ちながらメンテナンス性を向上
- jscpdでのinterface重複検出をゼロに

## 実装タスク

### 1. 共通型定義ファイル作成
**ファイル**: `lib/types/index.ts`

**含める型定義**:
```typescript
interface Message {
  id: string
  content: string
  timestamp: Date
  lineId: string
  prevInLine?: string
  nextInLine?: string
  branchFromMessageId?: string
  tags?: string[]
  hasBookmark?: boolean
  author?: string
  images?: string[]
}

interface Line {
  id: string
  name: string
  messageIds: string[]
  startMessageId: string
  endMessageId?: string
  branchFromMessageId?: string
  tagIds?: string[]
  created_at: string
  updated_at: string
}

interface Tag {
  id: string
  name: string
  color?: string
}

interface BranchPoint {
  messageId: string
  lines: string[]
}
```

### 2. 既存ファイルの修正
**対象ファイル**:
- `components/branch-structure.tsx`
- `components/recent-lines-footer.tsx`
- その他interface定義があるファイル

**修正内容**:
1. 重複interface定義を削除
2. `import { Message, Line, Tag, BranchPoint } from '@/lib/types'` を追加

### 3. 検証
- TypeScriptビルドエラーがないことを確認
- `npm run cpd-check` でinterface重複が解消されることを確認

## 受け入れ条件
- [ ] `lib/types/index.ts` が作成されている
- [ ] 既存ファイルから重複interface定義が削除されている
- [ ] TypeScriptビルドが成功する
- [ ] jscpdでinterface関連の重複が検出されない

## 優先度
High - 他のリファクタリング作業の基盤となるため

## 推定作業時間
30分

## 関連チケット
- #002: 時間ユーティリティ関数共通化
- #003: ページコンポーネント共通化
- #004: UIパターン共通化